<%# The scale-100 trick is to make the last td absolute, relative to the tr  %>

<tr class="scale-100 hover:bg-hover <%= "bg-aoc-green bg-opacity-20" if @city[:id] == @user.city_id %>">
  <td class="<%= class_names(rank_css(@city[:rank])) %>">
    <%= link_to city_path(@city[:slug]), class: "flex justify-center" do %>
      <%= @city[:rank] if @city[:display_rank] %>
    <% end %>
  </td>

  <td>
    <%= link_to city_path(@city[:slug]), class: "flex justify-center" do %>
      <%= @city[:name] %>
    <% end %>
  </td>

  <td class="py-1 strong text-lg">
    <%= link_to city_path(@city[:slug]), class: "flex justify-center" do %>
      <%= @city[:score] %>
    <% end %>
  </td>

  <td>
    <%= link_to city_path(@city[:slug]), class: "flex justify-center" do %>
      <%= @city[:total_members] %>
    <% end %>
  </td>

  <td title="# of members who solved daily part 1&#10;# of members who solved daily part 2&#10;# of top contributors of the city">
    <%= link_to city_path(@city[:slug]), class: "flex text-center" do %>
      <span class="basis-1/3 text-aoc-silver text-opacity-80"><%= @city[:daily_contributors_part_1] %></span>
      <span class="basis-1/3 text-aoc-gold text-opacity-50"><%= @city[:daily_contributors_part_2] %></span>
      <span class="basis-1/3">/<%= @city[:top_contributors] %></span>
    <% end %>
  </td>

  <%= render Scores::RankEvolutionCellComponent.new(previous_rank: @city[:previous_rank], current_rank: @city[:rank]) %>
</tr>
